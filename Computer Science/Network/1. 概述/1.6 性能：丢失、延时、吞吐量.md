# 1. 分组交换的取舍
[[1.3 网络核心#2.2. 分组交换 Packet Switching]]
- 共享带宽，适用于计算机通信
- 分组丢失
	- 队列长度有限导致分组丢失。
- 延迟
## 1.1. 延时的类型 （节点延时的组成）
![[Pasted image 20240604220833.png]]
- 排队延时 Queuing Delay
	- 队太长，发送时间就太长了，用户受不了
	- 所以队不能太长，就会有丢失
		- reasons for loss
			- queue is limited by length
				- UDP the host ignore the loss.
				- The previous node resend the package
				- Ethernet ignore it. The below layer is reliable.
				- Wi-Fi resends it, the below layer is unreliable.
			- TTL == 0
- 结点处理延时 Processing Delay
	- 分组的比特出错检查
	- 查路由表的时间
	- 对分组字段的处理 （IP协议层次）
- 传输延时 transmission
	- 链路带宽 $R=1Mbps$
	- 打出一个bit所需时间 $1/R=10^{-6}s=1\mu s$
	- 分组长度$L=1Mbits$
	- 传输延时：把分组打到链路上的时间=分组长度/链路带宽$\frac{L}{R}$
- 传播延时 propagation
	- 每个bit的数据越过物理链路距离传播所耗费的时间。
		- 实际链路不能按照光速
		- 实际的速度应该约为$2\times 10^8m/s$
	- 一跳 （a hop）两个相连路由器之间 所用的时间；
	- 物理链路长度/媒体中传播速度。
# 2. 相关概念
## 2.1. 信道容量
- 同时在信道上的分组最大个数
- LAN
	- 传输延迟$>$传播延迟
- WAN
	- 传输延迟$<$传播延迟


- 流量强度
	- 流量强度=1，进来的要求传输速度和输出链路的能力一比一，输出链路的能力一个bit都不能够浪费空闲，否则就会出现 能力浪费累积的情况。
- ICMP 协议
	- IP head
		- TTL: time to live
			- `TTL -= 1`
			- TTL == 0: kill the package, and return to source node
			- Round Trip Time Count is realized by TTL once and once again.
				- When the destination port of the ending host is not reachable, the RTT is calculated.
					- Because there is no waiting process on the port.
	- Body: data
- 吞吐量
	- 短板效应：整个链路的吞吐量是带宽最小的那段线路的吞吐量
	- 瞬间
	- 平均