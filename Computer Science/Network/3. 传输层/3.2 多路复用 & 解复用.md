# 1. TCP复用 & 解复用
## 1.1. 发送主机
- 应用层创建的socket会在连接建立后，放入一张表内。
	- ｜socket | source IP | source Port | destination IP | destination Port | Process ID |
- 应用进程在call下层API时，传给API两个参数
	- socket
	- Message本身
- 传输层TCP实体
	- 通过socket得到 (source Port, destination Port)
	- 将Message本身封装成segment。
- 网络层IP实体
	- 通过socket得到 (source IP, destination IP)
	- 将Segment本身封装成Datagram。
## 1.2. 接收主机
- 网络层IP实体
	- 解析后
	- 向上交 (source IP, destination IP)
	- 数据部分TCP Segment
- 传输层TCP实体
	- 向上提交来自网络层的 (source IP, destination IP)
	- 解析后的：
		- (source Port, destination Port)
		- 数据部分 Message
	- 根据 (source IP, source Port, destination IP, destination Port)，查socket表，从而得到响应的进程ID。
- 将数据信息部分交给正确的进程。
# 2. UDP复用 & 解复用
## 2.1. 发送主机
- 应用层维护的socket表
	- | socket | IP | Port | Process ID |
- 应用进程传给API两个参数
	- socket
	- Message
	- Server Address (destination IP, destination Port)
- 传输层 UDP实体
	- (source Port, destination Port)
	- Message
- 网络层 IP 实体
	- 通过socket得到 (source IP, destination IP)
	- 将UDP Datagram 本身封装成Datagram。